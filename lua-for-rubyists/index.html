<!DOCTYPE html>
<html>
  <head>
    <title>Lua for Rubyists</title>
    <link href="css/reset.css" rel="stylesheet" />
    <meta name="author" content="Enrique García Cota">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="shortcut icon" href="css/favicon.png" />
    <link rel="apple-touch-icon" href="css/apple-touch-icon.png" />
    <!-- Code Prettifier: -->
<link href="css/highlight.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <link href="css/style.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,800italic,300,400,800' rel='stylesheet' type='text/css'>    


  </head>

  <body>
  <div class="fallback-message">
  <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
  <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
  </div>
    <div id="impress">
    <div class='step' >
    
<h1>Lua for Rubyists</h1>

<h2>Enrique García Cota</h2>

<p>madrid-rb, 2014-01</p>
</div>
      <div class='step' >
    
<h1>2 main parts:</h1>

<h2>Lua</h2>

<h2>Applications</h2>
</div>
      <div class='step' >
    
<h1>Lua</h1>

<h2>Compared with Ruby</h2>
</div>
      <div class='step' >
    
<h1>It&#39;s Lua, not LUA</h1>
</div>
      <div class='step' >
    
<h1>SOL &rArr;</h1>

<h2>Simple Object Language</h2>
</div>
      <div class='step' >
    
<p><img src="images/sol.png" alt="fullscreen"></p>
</div>
      <div class='step' >
    
<h1>Lua &rArr;</h1>

<h2>“Moon” in Portuguese</h2>

<h2>(No Initials)</h2>
</div>
      <div class='step' >
    
<p><img src="images/lua-logo.png" alt="fullscreen"></p>
</div>
      <div class='step' >
    
<p><img src="images/earth-moon.png" alt="fullscreen"></p>
</div>
      <div class='step' >
    
<h1>Which Lua?</h1>

<h1>Which Ruby?</h1>
</div>
      <div class='step' >
    
<h1>Ruby</h1>

<h2>MRI 1.8.7</h2>

<h2>MRI 2.x</h2>

<h2>JRuby</h2>

<h2>Rubinius</h2>

<p>PENDING: image of ruby?</p>
</div>
      <div class='step' >
    
<h1>Lua</h1>

<h2>Lua 5.1</h2>

<h2>Lua 5.2</h2>

<h2>LuaJit</h2>

<p>PENDING: image of lua?</p>
</div>
      <div class='step' >
    
<h1>Origin &amp; Phylosophy</h1>
</div>
      <div class='step' >
    
<table><thead>
<tr>
<th><strong>Ruby</strong></th>
<th><strong>Lua</strong></th>
</tr>
</thead><tbody>
<tr>
<td>Yukihiro, Japan</td>
<td>Roberto, Brazil</td>
</tr>
<tr>
<td>PENDING: Image of matz</td>
<td>PENDING: Image of Roberto(joke)</td>
</tr>
<tr>
<td>Make programmers happy</td>
<td>Portable &gt; Embeddable &gt; Fast</td>
</tr>
</tbody></table>
</div>
      <div class='step' >
    
<table><thead>
<tr>
<th><strong>Ruby</strong></th>
<th><strong>Lua</strong></th>
</tr>
</thead><tbody>
<tr>
<td>Yukihiro, Japan</td>
<td>Roberto, Brazil</td>
</tr>
<tr>
<td>PENDING: Image of matz</td>
<td>PENDING: Image of Roberto</td>
</tr>
<tr>
<td>Make programmers happy</td>
<td>Portable &gt; Embeddable &gt; Fast</td>
</tr>
</tbody></table>
</div>
      <div class='step' >
    
<h1>Size</h1>
</div>
      <div class='step' >
    
<h1>Ruby (MRI)</h1>
<pre><code class='prettyprint bash'>git clone https://github.com/ruby/ruby.git
rm -rf ruby/benchmark ruby/bootstraptest ruby/doc \
       ruby/ext ruby/sample ruby/test ruby/tool
cloc ruby
</code></pre>
<h2>&rArr; ~650k (C, C++, Ruby)</h2>
</div>
      <div class='step' >
    
<h1>Lua (5.2.3)</h1>
<pre><code class='prettyprint bash'>git clone https://github.com/LuaDist/lua.git
cloc lua/src
</code></pre>
<h2>&rArr; ~15k (C99)</h2>
</div>
      <div class='step' >
    
<h1>Batteries included</h1>
</div>
      <div class='step' >
    
<h1>PENDING: Rabbit with/without batteries</h1>
</div>
      <div class='step' >
    
<p>Artillery battery: PENDING definition</p>
</div>
      <div class='step' >
    
<p><img src="images/artillery-battery.jpg" alt="fullscreen"></p>
</div>
      <div class='step' >
    
<p>Pending: Image of soldier</p>
</div>
      <div class='step' >
    
<h1>Ruby: Core + stdlib</h1>
</div>
      <div class='step' >
    
<h2>Ruby core:</h2>
<pre><code class='prettyprint ruby'>$ irb
> Object.constants.map{|c| Object.const_get(c)}
 => [ ... ]

> _.select{|c| c.is_a? Class}
 => [ Object, Module, Class, BasicObject, Method,
      NilClass, String, Symbol, Regexp, Range,
      Time, Date, File, Dir, TrueClass, FalseClass,
      Numeric, Integer, Fixnum, Float, Bignum,
      Rational, Complex, Thread, Fiber, ...
    ] (73)

> _.map{|c| c.methods.count}.inject(:+)
  => 7112

> _.map{|c| c.public_methods(false).count}.inject(:+)
  => 399
</code></pre></div>
      <div class='step' >
    
<h2>Ruby Stdlib:</h2>

<ul>
<li><p><a href="http://www.ruby-doc.org/stdlib-2.1.0">http://www.ruby-doc.org/stdlib-2.1.0</a></p></li>
<li><p>109 packages:</p>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class='inline prettyprint'>set</code></td>
<td><code class='inline prettyprint'>yaml</code></td>
<td><code class='inline prettyprint'>minitest</code></td>
<td><code class='inline prettyprint'>erb</code></td>
</tr>
<tr>
<td><code class='inline prettyprint'>base64</code></td>
<td><code class='inline prettyprint'>csv</code></td>
<td><code class='inline prettyprint'>rss</code></td>
<td><code class='inline prettyprint'>webrick</code></td>
</tr>
<tr>
<td><code class='inline prettyprint'>date</code></td>
<td><code class='inline prettyprint'>json</code></td>
<td><code class='inline prettyprint'>zlib</code></td>
<td><code class='inline prettyprint'>net/*</code></td>
</tr>
<tr>
<td>...</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table></li>
<li><p>Presentation: “Ruby: Batteries Included”</p>

<p><a href="http://www.confreaks.com/videos/2347">http://www.confreaks.com/videos/2347</a></p></li>
</ul>
</div>
      <div class='step' >
    
<h2>Lua:</h2>

<p>Types (~7)</p>
<pre><code class='prettyprint '>string, number, table, boolean, function, thread, nil
</code></pre>
<p>Libraries (~7)</p>
<pre><code class='prettyprint '>string, math, table, os, io, coroutine, debug
</code></pre>
<p>Top-level functions (~30)</p>
<pre><code class='prettyprint '>assert          load        pcall     setmetatable
collectgarbage  loadfile    print     tonumber
dofile          loadstring  rawequal  tostring
error           module      rawget    type
gcinfo          newproxy    rawset    xpcall
getfenv         next        unpack
getmetatable    require     select
ipairs          pairs       setfenv
</code></pre></div>
      <div class='step' >
    <pre><code class='prettyprint lua'>local name = "peter" -- or 'peter'

other_name = "john" -- global variable!

local age = 17
age = age + 1
local adult = age >= 18 -- boolean

local tname = type(name)
print(tname) -- string

</code></pre></div>
      <div class='step' >
    <pre><code class='prettyprint lua'>local ADULT_AGE = 18
local function is_adult(age)
  return age >= ADULT_AGE
end

-- equivalent*
local is_adult = function(age)
  return age >= ADULT_AGE
end

local adult = is_adult(age)
print(type(is_adult)) -- function
</code></pre></div>
      <div class='step' >
    <pre><code class='prettyprint lua'>local vowels = { 'a', 'e', 'i', 'o', 'u'}
print(vowels[1]) -- a

local person = {}
person['name'] = 'john'
person.age = 17
print(person.name) -- john
print(person.age) -- 17

local another_person = {name = 'john', age = 15}

print(type(vowels)) -- table
print(type(person)) -- table
</code></pre></div>
      <div class='step' >
    
<h1>Libraries</h1>
</div>
      <div class='step' >
    
<h1>Ruby: Gems</h1>

<h1><a href="http://www.rubygems.org">www.rubygems.org</a></h1>
</div>
      <div class='step' >
    
<h1>Rails</h1>

<p>PENDING: Destroyer</p>
</div>
      <div class='step' >
    
<h1>Lua: Rocks</h1>

<h1><a href="http://www.luarocks.com">www.luarocks.com</a></h1>
</div>
      <div class='step' >
    
      </div>
    <script src="js/impress.js"></script>
    <script>impress().init();</script>
  </body>
</html>
    